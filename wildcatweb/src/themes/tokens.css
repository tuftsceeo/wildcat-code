/* tokens.css - Comprehensive design token system for WildCat app

This file provides a complete set of design tokens for all themes
using contrast-based naming conventions instead of light/dark.
Fixed version with guaranteed border visibility and simplified scaling.
*/

/* Import necessary fonts */
@import url("https://fonts.googleapis.com/css2?family=Kode+Mono:wght@400;500;600;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Georgia&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Arial&display=swap");

/* ============================================
SHARED TOKENS (constant across all themes)
============================================ */
:root   {
/* Base scaling for different screen sizes - simpler calculations */
--scale-factor: 1; /* Default scaling at 1366px width */
/* Always visible border widths - fixed pixel values as fallbacks */
--border-width-none: 0;
--border-width-thin: 2px;
--border-width-standard: 4px;
--border-width-thick: 6px;
--border-width-extra: 8px;

/* Fixed base sizes for different display element types */
--panel-width-step: 300px; /* Run menu width */
--panel-width-code: 300px; /* Code track width */
--panel-width-control: 540px; /* Command panel width */

/* Z-index scale */
--z-index-base: 0;
--z-index-raised: 10;
--z-index-dropdown: 100;
--z-index-modal: 1000;

/* Spacing Scale - With fixed pixel fallbacks */
--spacing-1: 4px; /* For tight grouping */
--spacing-2: 8px; /* For related elements */
--spacing-3: 12px; /* For section separation */
--spacing-4: 16px; /* Standard spacing */
--spacing-5: 20px; /* For visual hierarchy */
--spacing-6: 24px; /* For major sections */
--spacing-8: 32px; /* For content blocks */
--spacing-10: 40px; /* For page sections */
--spacing-12: 48px; /* For major breaks */
--spacing-16: 64px; /* For full sections */
--spacing-20: 80px; /* For page breaks */

/* Border Radius - With fixed pixel fallbacks */
--radius-none: 0;
--radius-sm: 4px; /* Subtle rounding */
--radius-md: 8px; /* Standard rounding */
--radius-lg: 12px; /* Game-like elements */
--radius-xl: 16px; /* Prominent elements */
--radius-full: 9999px;

/* Font Sizes - With fixed pixel fallbacks */
--font-size-xxs: 12px; /* Small labels */
--font-size-xs: 14px; /* Secondary text */
--font-size-sm: 16px; /* Body text */
--font-size-base: 20px; /* Primary text */
--font-size-lg: 24px; /* Headers */
--font-size-xl: 32px; /* Section headers */
--font-size-2xl: 40px; /* Main headers */
--font-size-3xl: 48px; /* Hero text */

/* Font Weights */
--font-weight-regular: 400;
--font-weight-medium: 500;
--font-weight-semibold: 600;
--font-weight-bold: 700;

/* Line Heights */
--line-height-tight: 1.2;
--line-height-normal: 1.5;
--line-height-relaxed: 1.75;

/* Letter Spacing */
--letter-spacing-tight: -0.025em;
--letter-spacing-normal: 0;
--letter-spacing-wide: 0.025em;
--letter-spacing-wider: 0.05em;
--letter-spacing-widest: 0.1em;

/* Animation and Transition - Enhanced for game-like feel */
--transition-duration-fast: 150ms;
--transition-duration-normal: 250ms;
--transition-duration-slow: 350ms;
--transition-duration-game: 500ms; /* For more dramatic effects */

/* Easing Functions - Added game-like curves */
--transition-easing-standard: cubic-bezier(0.4, 0, 0.2, 1);
--transition-easing-accelerate: cubic-bezier(0.4, 0, 1, 1);
--transition-easing-decelerate: cubic-bezier(0, 0, 0.2, 1);
--transition-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Playful bounce */
--transition-easing-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Spring effect */
--transition-easing-pulse: cubic-bezier(0.4, 0, 0.6, 1); /* Pulsing effect */

/* Complete transitions - Added game-like variants */
--transition-standard: var(--transition-duration-normal) var(--transition-easing-standard);
--transition-fast: var(--transition-duration-fast) var(--transition-easing-standard);
--transition-slow: var(--transition-duration-slow) var(--transition-easing-standard);
--transition-bounce: var(--transition-duration-game) var(--transition-easing-bounce);
--transition-spring: var(--transition-duration-game) var(--transition-easing-spring);
--transition-pulse: var(--transition-duration-game) var(--transition-easing-pulse);

/* Game-like Effects */
--glow-intensity-low: 0.3;
--glow-intensity-medium: 0.5;
--glow-intensity-high: 0.7;

/* Button Scale Transforms - Enhanced for game-like feel */
--button-scale-default: scale(1);
--button-scale-hover: scale(1.05);
--button-scale-active: scale(0.95);
--button-scale-success: scale(1.1); /* For successful actions */
--button-scale-error: scale(0.9); /* For errors */
--button-scale-pulse: scale(1.05); /* For attention-grabbing elements */

/* Animation Keyframes - Game-like effects */
--animation-duration-short: 0.3s;
--animation-duration-medium: 0.5s;
--animation-duration-long: 0.8s;

/* Sound Effect Tokens (for accessibility) */
--sound-effect-volume: 0.5; /* Default volume */
--sound-effect-duration: 0.3s; /* Default duration */
--sound-effect-pitch: 1; /* Default pitch */

/* Component dimensions - With fixed pixel fallbacks */
--header-height: 56px; /* Prominent but not overwhelming */
--bluetooth-button-size: 40px; /* Easy to click */
--bluetooth-icon-size: 24px; /* Clear visibility */
--bluetooth-status-indicator-size: 10px; /* Noticeable status */
--panel-spacing: var(--spacing-4);
}


/* ============================================
TARGETED DEVICE BREAKPOINTS
============================================ */
/* 4K & Ultra-Wide Displays (1921px and above) */
@media (min-width: 1921px) {
:root   {
/* Scale up elements for very large screens */
--scale-factor: 1.2;
    --font-size-xxs: 14px;
    --font-size-xs: 16px;
    --font-size-sm: 18px;
    --font-size-base: 24px;
    --font-size-lg: 28px;
    --font-size-xl: 36px;
    --font-size-2xl: 48px;
    --font-size-3xl: 60px;
    
    --panel-width-step: 360px;
    --panel-width-code: 360px;
    --panel-width-control: 650px;
    
    --spacing-1: 5px;
    --spacing-2: 10px;
    --spacing-3: 15px;
    --spacing-4: 20px;
    --spacing-5: 25px;
    --spacing-6: 30px;
    --spacing-8: 40px;
    --spacing-10: 50px;
    --spacing-12: 60px;
    --spacing-16: 80px;
    --spacing-20: 100px;
    
    /* Borders scale up but not too much */
    --border-width-thin: 2px;
    --border-width-standard: 4px;
    --border-width-thick: 8px;
    --border-width-extra: 12px;
}
}

/* Extra Large Displays (1681px - 1920px) */
@media (min-width: 1681px) and (max-width: 1920px) {
:root   {
/* Moderate scaling for larger screens */
--scale-factor: 1.1;
    --font-size-xxs: 13px;
    --font-size-xs: 15px;
    --font-size-sm: 17px;
    --font-size-base: 22px;
    --font-size-lg: 26px;
    --font-size-xl: 34px;
    --font-size-2xl: 44px;
    --font-size-3xl: 54px;
    
    --panel-width-step: 330px;
    --panel-width-code: 330px;
    --panel-width-control: 600px;
    
    --spacing-1: 5px;
    --spacing-2: 9px;
    --spacing-3: 14px;
    --spacing-4: 18px;
    --spacing-5: 23px;
    --spacing-6: 28px;
    --spacing-8: 36px;
    --spacing-10: 45px;
    --spacing-12: 55px;
    --spacing-16: 72px;
    --spacing-20: 90px;
}
}
/* Large Displays (1367px - 1680px) */
@media (min-width: 1367px) and (max-width: 1680px) {
:root   {
/* Slight scaling for standard modern displays */
--scale-factor: 1.05;
    --font-size-xxs: 12px;
    --font-size-xs: 14px;
    --font-size-sm: 16px;
    --font-size-base: 21px;
    --font-size-lg: 25px;
    --font-size-xl: 33px;
    --font-size-2xl: 42px;
    --font-size-3xl: 50px;
    
    --panel-width-step: 315px;
    --panel-width-code: 315px;
    --panel-width-control: 570px;
}
}
/* School Chromebooks & Medium Displays (1281px - 1366px) */
@media (min-width: 1281px) and (max-width: 1366px) {
:root   {
/* Our baseline - default values */
}
}
/* Smaller Desktops & Laptops (1025px - 1280px) */
@media (min-width: 1025px) and (max-width: 1280px) {
:root    {
--scale-factor: 0.9;
    --font-size-xxs: 11px;
    --font-size-xs: 13px;
    --font-size-sm: 15px;
    --font-size-base: 18px;
    --font-size-lg: 22px;
    --font-size-xl: 29px;
    --font-size-2xl: 36px;
    --font-size-3xl: 43px;
    
    --panel-width-step: 270px;
    --panel-width-code: 270px;
    --panel-width-control: 480px;
    
    --spacing-1: 3px;
    --spacing-2: 7px;
    --spacing-3: 11px;
    --spacing-4: 14px;
    --spacing-5: 18px;
    --spacing-6: 22px;
    --spacing-8: 29px;
    --spacing-10: 36px;
    --spacing-12: 43px;
    --spacing-16: 57px;
    --spacing-20: 72px;
}
}

/* Tablets & Small Laptops - Landscape (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
:root   {
--scale-factor: 0.8;
    --font-size-xxs: 9px;
    --font-size-xs: 11px;
    --font-size-sm: 13px;
    --font-size-base: 16px;
    --font-size-lg: 19px;
    --font-size-xl: 26px;
    --font-size-2xl: 32px;
    --font-size-3xl: 38px;
    
    --panel-width-step: 240px;
    --panel-width-code: 240px;
    --panel-width-control: 430px;
    
    --spacing-1: 3px;
    --spacing-2: 6px;
    --spacing-3: 9px;
    --spacing-4: 12px;
    --spacing-5: 16px;
    --spacing-6: 19px;
    --spacing-8: 26px;
    --spacing-10: 32px;
    --spacing-12: 38px;
    --spacing-16: 51px;
    --spacing-20: 64px;
}
}
/* Special case for very small screens (like 1366x768 Chromebooks) */
@media (max-width: 1366px) and (max-height: 768px) {
:root       {
--scale-factor: 0.85;
    /* Make sure these critical dimensions fit */
    --panel-width-step: 250px;
    --panel-width-code: 250px;
    --panel-width-control: 450px;
    
    /* Reduced spacing to save space */
    --spacing-8: 24px;
    --spacing-10: 30px;
    --spacing-12: 36px;
    --spacing-16: 48px;
    --spacing-20: 60px;
}
}
/* Portrait orientation handling */
@media (orientation: portrait) {
:root   {
/* In portrait, optimize for stacked components */
--panel-width-step: min(90vw, 300px);
--panel-width-code: min(90vw, 300px);
--panel-width-control: min(90vw, 540px);
}
}
/* Interactive Whiteboards (typically 1280x800 or similar) */
@media (min-width: 1280px) and (max-height: 800px) {
:root   {
/* Optimize for wider but shorter screens */
--scale-factor: 0.9;
}
}
/* iPad classroom settings in landscape */
@media (width: 1024px) and (orientation: landscape) {
:root   {
/* iPad-specific optimizations */
--panel-width-step: 220px;
--panel-width-code: 220px;
--panel-width-control: 400px;
}
}

/* The rest of the original tokens.css remains unchanged */
/* ============================================
   RETRO THEME (Dark Mode with Neon Elements)
   ============================================ */
:root,
body[data-theme="retro"] {
    /* Font Family */
    --font-family-primary: "Kode Mono", monospace;
    --font-family-fallback: "Courier New", monospace;
    --font-family-dyslexic: "OpenDyslexic", "Comic Sans MS", sans-serif;
    --font-family-active: var(--font-family-primary);

    /* Base Colors */
    --color-background-rgb: 30, 30, 30;
    --color-background: rgb(var(--color-background-rgb));
    --color-text-rgb: 255, 255, 255;
    --color-text: rgb(var(--color-text-rgb));
    --color-transparent: transparent;

    /* Primary Color - Neon Blue */
    --color-primary-main-rgb: 0, 80, 216;
    --color-primary-main: rgb(var(--color-primary-main-rgb));
    --color-primary-low-rgb: 9, 48, 85;
    --color-primary-low: rgb(var(--color-primary-low-rgb));
    --color-primary-high-rgb: 53, 177, 255;
    --color-primary-high: rgb(var(--color-primary-high-rgb));
    --color-primary-contrast-rgb: 30, 30, 30;
    --color-primary-contrast: rgb(var(--color-primary-contrast-rgb));

    /* Secondary Color - Neon Green */
    --color-secondary-main-rgb: 0, 159, 24;
    --color-secondary-main: rgb(var(--color-secondary-main-rgb));
    --color-secondary-low-rgb: 3, 82, 15;
    --color-secondary-low: rgb(var(--color-secondary-low-rgb));
    --color-secondary-high-rgb: 51, 255, 82;
    --color-secondary-high: rgb(var(--color-secondary-high-rgb));
    --color-secondary-contrast-rgb: 30, 30, 30;
    --color-secondary-contrast: rgb(var(--color-secondary-contrast-rgb));

    /* Feedback Colors */
    --color-error-main-rgb: 255, 0, 0;
    --color-error-main: rgb(var(--color-error-main-rgb));
    --color-error-low-rgb: 153, 0, 0;
    --color-error-low: rgb(var(--color-error-low-rgb));
    --color-error-high-rgb: 255, 128, 128;
    --color-error-high: rgb(var(--color-error-high-rgb));
    --color-error-contrast-rgb: 255, 255, 255;
    --color-error-contrast: rgb(var(--color-error-contrast-rgb));

    --color-warning-main-rgb: 255, 165, 0;
    --color-warning-main: rgb(var(--color-warning-main-rgb));
    --color-warning-low-rgb: 153, 99, 0;
    --color-warning-low: rgb(var(--color-warning-low-rgb));
    --color-warning-high-rgb: 255, 201, 102;
    --color-warning-high: rgb(var(--color-warning-high-rgb));
    --color-warning-contrast-rgb: 30, 30, 30;
    --color-warning-contrast: rgb(var(--color-warning-contrast-rgb));

    --color-info-main-rgb: 255, 255, 0;
    --color-info-main: rgb(var(--color-info-main-rgb));
    --color-info-low-rgb: 224, 190, 0;
    --color-info-low: rgb(var(--color-info-low-rgb));
    --color-info-high-rgb: 255, 255, 128;
    --color-info-high: rgb(var(--color-info-high-rgb));
    --color-info-contrast-rgb: 30, 30, 30;
    --color-info-contrast: rgb(var(--color-info-contrast-rgb));

    --color-success-main-rgb: 0, 159, 24;
    --color-success-main: rgb(var(--color-success-main-rgb));
    --color-success-low-rgb: 3, 82, 15;
    --color-success-low: rgb(var(--color-success-low-rgb));
    --color-success-high-rgb: 51, 255, 82;
    --color-success-high: rgb(var(--color-success-high-rgb));
    --color-success-contrast-rgb: 30, 30, 30;
    --color-success-contrast: rgb(var(--color-success-contrast-rgb));

    /* Gray Scale - Contrast based */
    --color-gray-faint-rgb: 34, 34, 34;
    --color-gray-faint: rgb(var(--color-gray-faint-rgb));
    --color-gray-subtle-rgb: 68, 68, 68;
    --color-gray-subtle: rgb(var(--color-gray-subtle-rgb));
    --color-gray-medium-rgb: 119, 119, 119;
    --color-gray-medium: rgb(var(--color-gray-medium-rgb));
    --color-gray-bold-rgb: 170, 170, 170;
    --color-gray-bold: rgb(var(--color-gray-bold-rgb));
    --color-gray-extreme-rgb: 221, 221, 221;
    --color-gray-extreme: rgb(var(--color-gray-extreme-rgb));

    /* Glow Effects - Only in Retro theme */
    --glow-primary: 0 0 0.25rem rgba(var(--color-primary-main-rgb), 0.7);
    --glow-secondary: 0 0 0.25rem rgba(var(--color-secondary-main-rgb), 0.7);
    --glow-error: 0 0 0.25rem rgba(var(--color-error-main-rgb), 0.7);
    --glow-warning: 0 0 0.25rem rgba(var(--color-warning-main-rgb), 0.7);
    --glow-info: 0 0 0.25rem rgba(var(--color-info-main-rgb), 0.7);
    --glow-white: 0 0 0.25rem rgba(var(--color-text-rgb), 0.7);

    /* Component-specific colors */
    --color-motor-clockwise: var(--color-secondary-high);
    --color-motor-countercw: var(--color-info-main);
    --color-motor-stopped: var(--color-gray-medium);

    --color-timer-main: var(--color-secondary-high);
    --color-sensor-main: var(--color-primary-high);

    /* UI Element Tokens */

    /* Button States - Outlined */
    --button-default-bg: transparent;
    --button-default-text: var(--color-text);
    --button-default-border: var(--color-primary-high);

    --button-selected-bg: transparent;
    --button-selected-text: var(--color-secondary-high);
    --button-selected-border: var(--color-secondary-high);

    --button-disabled-bg: transparent;
    --button-disabled-text: var(--color-gray-medium);
    --button-disabled-border: var(--color-gray-medium);
    --button-disabled-opacity: 0.6;

    /* Button States - Contained */
    --button-contained-default-bg: var(--color-primary-high);
    --button-contained-default-text: var(--color-primary-contrast);
    --button-contained-default-border: var(--color-primary-main);

    --button-contained-selected-bg: var(--color-secondary-high);
    --button-contained-selected-text: var(--color-secondary-contrast);
    --button-contained-selected-border: var(--color-secondary-main);

    --button-contained-disabled-bg: var(--color-gray-subtle);
    --button-contained-disabled-text: var(--color-gray-faint);
    --button-contained-disabled-border: var(--color-gray-subtle);
    --button-contained-disabled-opacity: 0.6;

    /* Panel/Card */
    --panel-bg: var(--color-background);
    --panel-border: var(--color-primary-high);
    --panel-active-border: var(--color-secondary-main);
    --panel-text: var(--color-text);

    /* Input */
    --input-default-bg: var(--color-background);
    --input-default-text: var(--color-text);
    --input-default-border: var(--color-primary-main);

    --input-focus-bg: var(--color-background);
    --input-focus-text: var(--color-text);
    --input-focus-border: var(--glow-secondary);

    --input-disabled-bg: var(--color-background);
    --input-disabled-text: var(--color-gray-medium);
    --input-disabled-border: var(--color-gray-medium);
}

/* ============================================
   CLEAN THEME (Material-inspired Light Mode)
   ============================================ */
body[data-theme="clean"] {
    /* Font Family */
    --font-family-primary: "Arial", sans-serif;
    --font-family-fallback: "Helvetica", sans-serif;
    --font-family-active: var(--font-family-primary);

    /* Base Colors */
    --color-background-rgb: 255, 255, 255;
    --color-background: rgb(var(--color-background-rgb));
    --color-text-rgb: 0, 0, 0;
    --color-text: rgb(var(--color-text-rgb));

    /* Primary Color - Blue */
    --color-primary-main-rgb: 0, 102, 204;
    --color-primary-main: rgb(var(--color-primary-main-rgb));
    --color-primary-low-rgb: 68, 136, 204;
    --color-primary-low: rgb(var(--color-primary-low-rgb));
    --color-primary-high-rgb: 0, 68, 153;
    --color-primary-high: rgb(var(--color-primary-high-rgb));
    --color-primary-contrast-rgb: 255, 255, 255;
    --color-primary-contrast: rgb(var(--color-primary-contrast-rgb));

    /* Secondary Color - Green */
    --color-secondary-main-rgb: 0, 170, 85;
    --color-secondary-main: rgb(var(--color-secondary-main-rgb));
    --color-secondary-low-rgb: 76, 187, 124;
    --color-secondary-low: rgb(var(--color-secondary-low-rgb));
    --color-secondary-high-rgb: 0, 119, 68;
    --color-secondary-high: rgb(var(--color-secondary-high-rgb));
    --color-secondary-contrast-rgb: 255, 255, 255;
    --color-secondary-contrast: rgb(var(--color-secondary-contrast-rgb));

    /* Feedback Colors */
    --color-error-main-rgb: 221, 0, 0;
    --color-error-main: rgb(var(--color-error-main-rgb));
    --color-error-low-rgb: 230, 92, 92;
    --color-error-low: rgb(var(--color-error-low-rgb));
    --color-error-high-rgb: 170, 0, 0;
    --color-error-high: rgb(var(--color-error-high-rgb));
    --color-error-contrast-rgb: 255, 255, 255;
    --color-error-contrast: rgb(var(--color-error-contrast-rgb));

    --color-warning-main-rgb: 255, 102, 0;
    --color-warning-main: rgb(var(--color-warning-main-rgb));
    --color-warning-low-rgb: 255, 148, 77;
    --color-warning-low: rgb(var(--color-warning-low-rgb));
    --color-warning-high-rgb: 204, 82, 0;
    --color-warning-high: rgb(var(--color-warning-high-rgb));
    --color-warning-contrast-rgb: 0, 0, 0;
    --color-warning-contrast: rgb(var(--color-warning-contrast-rgb));

    --color-info-main-rgb: 255, 204, 0;
    --color-info-main: rgb(var(--color-info-main-rgb));
    --color-info-low-rgb: 255, 219, 77;
    --color-info-low: rgb(var(--color-info-low-rgb));
    --color-info-high-rgb: 204, 163, 0;
    --color-info-high: rgb(var(--color-info-high-rgb));
    --color-info-contrast-rgb: 0, 0, 0;
    --color-info-contrast: rgb(var(--color-info-contrast-rgb));

    --color-success-main-rgb: 0, 170, 85;
    --color-success-main: rgb(var(--color-success-main-rgb));
    --color-success-low-rgb: 76, 187, 124;
    --color-success-low: rgb(var(--color-success-low-rgb));
    --color-success-high-rgb: 0, 119, 68;
    --color-success-high: rgb(var(--color-success-high-rgb));
    --color-success-contrast-rgb: 255, 255, 255;
    --color-success-contrast: rgb(var(--color-success-contrast-rgb));

    /* Gray Scale - Contrast based */
    --color-gray-faint-rgb: 245, 245, 245;
    --color-gray-faint: rgb(var(--color-gray-faint-rgb));
    --color-gray-subtle-rgb: 221, 221, 221;
    --color-gray-subtle: rgb(var(--color-gray-subtle-rgb));
    --color-gray-medium-rgb: 170, 170, 170;
    --color-gray-medium: rgb(var(--color-gray-medium-rgb));
    --color-gray-bold-rgb: 102, 102, 102;
    --color-gray-bold: rgb(var(--color-gray-bold-rgb));
    --color-gray-extreme-rgb: 51, 51, 51;
    --color-gray-extreme: rgb(var(--color-gray-extreme-rgb));

    /* No glow effects in Clean theme */
    --glow-primary: none;
    --glow-secondary: none;
    --glow-error: none;
    --glow-warning: none;
    --glow-info: none;
    --glow-white: none;

    /* Component-specific colors */
    --color-motor-clockwise: var(--color-secondary-main);
    --color-motor-countercw: var(--color-info-main);
    --color-motor-stopped: var(--color-gray-medium);

    --color-timer-main: var(--color-secondary-main);
    --color-sensor-main: var(--color-primary-main);

    /* UI Element Tokens */

    /* Button States - Outlined */
    --button-default-bg: transparent;
    --button-default-text: var(--color-text);
    --button-default-border: var(--color-primary-main);

    --button-selected-bg: rgba(var(--color-secondary-main-rgb), 0.1);
    --button-selected-text: var(--color-secondary-main);
    --button-selected-border: var(--color-secondary-main);

    --button-disabled-bg: transparent;
    --button-disabled-text: var(--color-gray-medium);
    --button-disabled-border: var(--color-gray-medium);

    /* Button States - Contained */
    --button-contained-default-bg: var(--color-primary-main);
    --button-contained-default-text: var(--color-primary-contrast);
    --button-contained-default-border: var(--color-primary-main);

    --button-contained-selected-bg: var(--color-secondary-main);
    --button-contained-selected-text: var(--color-secondary-contrast);
    --button-contained-selected-border: var(--color-secondary-main);

    --button-contained-disabled-bg: var(--color-gray-medium);
    --button-contained-disabled-text: var(--color-background);
    --button-contained-disabled-border: var(--color-gray-medium);

    /* Panel/Card */
    --panel-bg: var(--color-background);
    --panel-border: var(--color-primary-main);
    --panel-active-border: var(--color-secondary-main);
    --panel-text: var(--color-text);

    /* Input */
    --input-default-bg: var(--color-background);
    --input-default-text: var(--color-text);
    --input-default-border: var(--color-primary-main);

    --input-focus-bg: var(--color-background);
    --input-focus-text: var(--color-text);
    --input-focus-border: var(--color-secondary-main);
    --input-focus-outline: 0 0 0 2px rgba(var(--color-secondary-main-rgb), 0.2);

    --input-disabled-bg: var(--color-gray-faint);
    --input-disabled-text: var(--color-gray-medium);
    --input-disabled-border: var(--color-gray-medium);
}

/* ============================================
   PASTEL THEME (Warm, Eye-friendly Light Mode)
   ============================================ */
body[data-theme="pastel"] {
    /* Font Family */
    --font-family-primary: "Georgia", "Times New Roman", serif;
    --font-family-fallback: "Times New Roman", serif;
    --font-family-active: var(--font-family-primary);

    /* Base Colors */
    --color-background-rgb: 255, 250, 240;
    --color-background: rgb(var(--color-background-rgb));
    --color-text-rgb: 62, 69, 81;
    --color-text: rgb(var(--color-text-rgb));

    /* Primary Color - Blue */
    --color-primary-main-rgb: 108, 195, 213;
    --color-primary-main: rgb(var(--color-primary-main-rgb));
    --color-primary-low-rgb: 165, 216, 230;
    --color-primary-low: rgb(var(--color-primary-low-rgb));
    --color-primary-high-rgb: 90, 155, 168;
    --color-primary-high: rgb(var(--color-primary-high-rgb));
    --color-primary-contrast-rgb: 0, 0, 0;
    --color-primary-contrast: rgb(var(--color-primary-contrast-rgb));

    /* Secondary Color - Green */
    --color-secondary-main-rgb: 120, 194, 173;
    --color-secondary-main: rgb(var(--color-secondary-main-rgb));
    --color-secondary-low-rgb: 165, 216, 198;
    --color-secondary-low: rgb(var(--color-secondary-low-rgb));
    --color-secondary-high-rgb: 90, 155, 137;
    --color-secondary-high: rgb(var(--color-secondary-high-rgb));
    --color-secondary-contrast-rgb: 0, 0, 0;
    --color-secondary-contrast: rgb(var(--color-secondary-contrast-rgb));

    /* Feedback Colors */
    --color-error-main-rgb: 243, 150, 154;
    --color-error-main: rgb(var(--color-error-main-rgb));
    --color-error-low-rgb: 247, 190, 192;
    --color-error-low: rgb(var(--color-error-low-rgb));
    --color-error-high-rgb: 233, 106, 112;
    --color-error-high: rgb(var(--color-error-high-rgb));
    --color-error-contrast-rgb: 0, 0, 0;
    --color-error-contrast: rgb(var(--color-error-contrast-rgb));

    --color-warning-main-rgb: 255, 187, 137;
    --color-warning-main: rgb(var(--color-warning-main-rgb));
    --color-warning-low-rgb: 255, 217, 189;
    --color-warning-low: rgb(var(--color-warning-low-rgb));
    --color-warning-high-rgb: 255, 158, 86;
    --color-warning-high: rgb(var(--color-warning-high-rgb));
    --color-warning-contrast-rgb: 0, 0, 0;
    --color-warning-contrast: rgb(var(--color-warning-contrast-rgb));

    --color-info-main-rgb: 243, 220, 109;
    --color-info-main: rgb(var(--color-info-main-rgb));
    --color-info-low-rgb: 248, 233, 166;
    --color-info-low: rgb(var(--color-info-low-rgb));
    --color-info-high-rgb: 230, 203, 62;
    --color-info-high: rgb(var(--color-info-high-rgb));
    --color-info-contrast-rgb: 0, 0, 0;
    --color-info-contrast: rgb(var(--color-info-contrast-rgb));

    --color-success-main-rgb: 120, 194, 173;
    --color-success-main: rgb(var(--color-success-main-rgb));
    --color-success-low-rgb: 165, 216, 198;
    --color-success-low: rgb(var(--color-success-low-rgb));
    --color-success-high-rgb: 90, 155, 137;
    --color-success-high: rgb(var(--color-success-high-rgb));
    --color-success-contrast-rgb: 0, 0, 0;
    --color-success-contrast: rgb(var(--color-success-contrast-rgb));

    /* Gray Scale - Contrast based */
    --color-gray-faint-rgb: 245, 240, 229;
    --color-gray-faint: rgb(var(--color-gray-faint-rgb));
    --color-gray-subtle-rgb: 224, 214, 197;
    --color-gray-subtle: rgb(var(--color-gray-subtle-rgb));
    --color-gray-medium-rgb: 189, 177, 158;
    --color-gray-medium: rgb(var(--color-gray-medium-rgb));
    --color-gray-bold-rgb: 138, 127, 109;
    --color-gray-bold: rgb(var(--color-gray-bold-rgb));
    --color-gray-extreme-rgb: 90, 83, 74;
    --color-gray-extreme: rgb(var(--color-gray-extreme-rgb));

    /* No glow effects in Pastel theme */
    --glow-primary: none;
    --glow-secondary: none;
    --glow-error: none;
    --glow-warning: none;
    --glow-info: none;
    --glow-white: none;

    /* Component-specific colors */
    --color-motor-clockwise: var(--color-secondary-main);
    --color-motor-countercw: var(--color-info-high);
    --color-motor-stopped: var(--color-gray-medium);

    --color-timer-main: var(--color-secondary-main);
    --color-sensor-main: var(--color-primary-main);

    /* UI Element Tokens */

    /* Button States - Outlined */
    --button-default-bg: transparent;
    --button-default-text: var(--color-primary-main);
    --button-default-border: var(--color-primary-main);

    --button-selected-bg: transparent;
    --button-selected-text: var(--color-secondary-main);
    --button-selected-border: var(--color-secondary-main);

    --button-disabled-bg: transparent;
    --button-disabled-text: var(--color-gray-medium);
    --button-disabled-border: var(--color-gray-medium);

    /* Button States - Contained */
    --button-contained-default-bg: var(--color-primary-main);
    --button-contained-default-text: var(--color-primary-contrast);
    --button-contained-default-border: var(--color-primary-main);

    --button-contained-selected-bg: var(--color-secondary-main);
    --button-contained-selected-text: var(--color-secondary-contrast);
    --button-contained-selected-border: var(--color-secondary-main);

    --button-contained-disabled-bg: var(--color-gray-medium);
    --button-contained-disabled-text: var(--color-background);
    --button-contained-disabled-border: var(--color-gray-medium);

    /* Panel/Card */
    --panel-bg: var(--color-background);
    --panel-border: var(--color-primary-main);
    --panel-active-border: var(--color-secondary-main);
    --panel-text: var(--color-text);

    /* Input */
    --input-default-bg: var(--color-background);
    --input-default-text: var(--color-text);
    --input-default-border: var(--color-primary-main);

    --input-focus-bg: var(--color-background);
    --input-focus-text: var(--color-text);
    --input-focus-border: var(--color-secondary-main);
    --input-focus-outline: none;

    --input-disabled-bg: var(--color-gray-faint);
    --input-disabled-text: var(--color-gray-medium);
    --input-disabled-border: var(--color-gray-medium);
}

/* ============================================
       ACCESSIBILITY ADJUSTMENTS
       ============================================ */

/* Apply dyslexia font when enabled */
body.dyslexia-font {
    --font-family-active: var(--font-family-dyslexic);
    --font-size-xxs: calc(0.5rem * var(--font-scale-factor));
    --font-size-xs: calc(0.9rem * var(--font-scale-factor));
    --font-size-sm: calc(1.05rem * var(--font-scale-factor));
    --font-size-base: calc(1.2rem * var(--font-scale-factor));
    --font-size-lg: calc(1.5rem * var(--font-scale-factor));
    --font-size-xl: calc(1.875rem * var(--font-scale-factor));
    --font-size-2xl: calc(2.4rem * var(--font-scale-factor));
    --font-size-3xl: calc(3rem * var(--font-scale-factor));
}

/* Apply high contrast when enabled */
body.high-contrast {
    /* Base Colors - Respect theme's light/dark nature */
    --color-text: var(--color-text);
    --color-background: var(--color-background);

    /* Strong Colors for High Contrast - Use custom colors if set */
    --color-primary-main: var(--color-primary-main, #000000);
    --color-primary-high: var(--color-primary-main, #000000);
    --color-primary-low: var(--color-primary-main, #000000);
    --color-primary-contrast: var(--color-primary-contrast, #ffffff);

    --color-secondary-main: var(--color-secondary-main, #000000);
    --color-secondary-high: var(--color-secondary-main, #000000);
    --color-secondary-low: var(--color-secondary-main, #000000);
    --color-secondary-contrast: var(--color-secondary-contrast, #ffffff);

    /* Info Color - Use custom color if set */
    --color-info-main: var(--color-info-main, #0000ff);
    --color-info-high: var(--color-info-main, #0000ff);
    --color-info-low: var(--color-info-main, #0000ff);
    --color-info-contrast: var(--color-info-contrast, #ffffff);

    /* Error/Stop Color - Use custom color if set */
    --color-error-main: var(--color-error-main, #ff0000);
    --color-error-high: var(--color-error-main, #ff0000);
    --color-error-low: var(--color-error-main, #ff0000);
    --color-error-contrast: var(--color-error-contrast, #ffffff);

    /* Warning Color - Use custom color if set */
    --color-warning-main: var(--color-warning-main, #ffa500);
    --color-warning-high: var(--color-warning-main, #ffa500);
    --color-warning-low: var(--color-warning-main, #ffa500);
    --color-warning-contrast: var(--color-warning-contrast, #000000);

    /* Success Color - Use secondary color for consistency */
    --color-success-main: var(--color-secondary-main, #000000);
    --color-success-high: var(--color-secondary-main, #000000);
    --color-success-low: var(--color-secondary-main, #000000);
    --color-success-contrast: var(--color-secondary-contrast, #ffffff);

    /* Thicker Borders */
    --border-width-standard: calc(0.375rem * var(--scale-factor));
    --border-width-thick: calc(0.5rem * var(--scale-factor));
    --border-width-extra: calc(0.75rem * var(--scale-factor));

    /* Heavier Font Weights */
    --font-weight-regular: 600;
    --font-weight-medium: 700;
    --font-weight-semibold: 800;
    --font-weight-bold: 900;

    /* Component-specific colors - Use custom colors if set */
    --panel-bg: var(--color-background);
    --panel-border: var(--color-primary-main, #000000);
    --panel-text: var(--color-text);

    /* Button States - Outlined - Use custom colors if set */
    --button-default-bg: var(--color-background);
    --button-default-text: var(--color-text);
    --button-default-border: var(--color-primary-main, #000000);

    --button-selected-bg: var(--button-selected-bg, var(--color-secondary-main, #000000));
    --button-selected-text: var(--button-selected-text, var(--color-secondary-contrast, #ffffff));
    --button-selected-border: var(--button-selected-border, var(--color-secondary-main, #000000));

    --button-disabled-bg: var(--color-background);
    --button-disabled-text: var(--color-text);
    --button-disabled-border: var(--color-text);
    --button-disabled-opacity: 0.5;

    /* Button States - Contained - Use custom colors if set */
    --button-contained-default-bg: var(--button-contained-default-bg, var(--color-primary-main, #000000));
    --button-contained-default-text: var(--button-contained-default-text, var(--color-primary-contrast, #ffffff));
    --button-contained-default-border: var(--button-contained-default-border, var(--color-primary-main, #000000));

    --button-contained-selected-bg: var(--button-contained-selected-bg, var(--color-secondary-main, #000000));
    --button-contained-selected-text: var(--button-contained-selected-text, var(--color-secondary-contrast, #ffffff));
    --button-contained-selected-border: var(--button-contained-selected-border, var(--color-secondary-main, #000000));

    --button-contained-disabled-bg: var(--color-background);
    --button-contained-disabled-text: var(--color-text);
    --button-contained-disabled-border: var(--color-text);
    --button-contained-disabled-opacity: 0.5;

    /* Input States - Use custom colors if set */
    --input-default-bg: var(--color-background);
    --input-default-text: var(--color-text);
    --input-default-border: var(--color-primary-main, #000000);

    --input-focus-bg: var(--color-background);
    --input-focus-text: var(--color-text);
    --input-focus-border: var(--input-focus-border, var(--color-primary-main, #000000));
    --input-focus-outline: 0 0 0 4px var(--color-primary-main, #000000);

    --input-disabled-bg: var(--color-background);
    --input-disabled-text: var(--color-text);
    --input-disabled-border: var(--color-text);
    --input-disabled-opacity: 0.5;

    /* Replace subtle backgrounds with borders */
    --color-gray-faint: var(--color-background);
    --color-gray-subtle: var(--color-text);
    --color-gray-medium: var(--color-text);
    --color-gray-bold: var(--color-text);
    --color-gray-extreme: var(--color-text);

    /* Active/Inactive/Disabled States - Use custom colors if set */
    --state-active-bg: var(--state-active-bg, var(--color-secondary-main, #000000));
    --state-active-text: var(--state-active-text, var(--color-secondary-contrast, #ffffff));
    --state-active-border: var(--state-active-border, var(--color-secondary-main, #000000));

    --state-inactive-bg: var(--color-background);
    --state-inactive-text: var(--color-text);
    --state-inactive-border: var(--color-text);

    --state-disabled-bg: var(--color-background);
    --state-disabled-text: var(--color-text);
    --state-disabled-border: var(--color-text);
    --state-disabled-opacity: 0.5;

    /* Focus States */
    --focus-ring-color: var(--focus-ring-color, var(--color-primary-main, #000000));
    --focus-ring-width: 4px;

    /* Disable glow effects in high contrast mode */
    --glow-primary: none;
    --glow-secondary: none;
    --glow-error: none;
    --glow-warning: none;
    --glow-info: none;
    --glow-white: none;

    /* Motor and Timer Colors */
    --color-motor-clockwise: var(--color-secondary-main, #000000);
    --color-motor-countercw: var(--color-info-main, #0000ff);
    --color-motor-stopped: var(--color-error-main, #ff0000);
    --color-timer-main: var(--color-warning-main, #ffa500);
    --color-sensor-main: var(--color-info-main, #0000ff);

    /* Force outlines on all buttons */
    .wildcat-button {
        border: var(--border-width-standard) solid var(--button-default-border);
        background-color: var(--button-default-bg);
        color: var(--button-default-text);
    }

    .wildcat-button.contained {
        border: var(--border-width-standard) solid var(--button-contained-default-border);
        background-color: var(--button-contained-default-bg);
        color: var(--button-contained-default-text);
    }

    /* Force outlines on all interactive elements */
    button,
    input,
    select,
    textarea {
        border: var(--border-width-standard) solid var(--color-primary-main);
        background-color: var(--color-background);
        color: var(--color-text);
    }

    /* Force outlines on all panels */
    .wildcat-panel {
        border: var(--border-width-standard) solid var(--panel-border);
        background-color: var(--panel-bg);
        color: var(--panel-text);
    }

    /* Settings specific overrides */
    .settings-container,
    .settings-panel,
    .settings-section {
        background-color: var(--color-background);
        border: var(--border-width-standard) solid var(--color-primary-main);
        color: var(--color-text);
    }

    /* Ensure all containers have background */
    .container,
    .section,
    .panel,
    .card {
        background-color: var(--color-background);
        border: var(--border-width-standard) solid var(--color-primary-main);
        color: var(--color-text);
    }

    /* Portal specific overrides */
    .portal-container,
    .portal-background,
    .portal-content {
        background-color: var(--color-background);
        border: var(--border-width-standard) solid var(--color-primary-main);
        color: var(--color-text);
    }

    /* Theme-specific overrides */
    &[data-theme="retro"] {
        --color-background: rgb(30, 30, 30);
        --color-text: rgb(255, 255, 255);
    }

    &[data-theme="clean"] {
        --color-background: rgb(255, 255, 255);
        --color-text: rgb(0, 0, 0);
    }

    &[data-theme="pastel"] {
        --color-background: rgb(255, 250, 240);
        --color-text: rgb(62, 69, 81);
    }
}

/* Larger text when enabled */
body.large-text {
    --font-size-base: calc(1.5rem * var(--font-scale-factor));
    --font-size-lg: calc(2rem * var(--font-scale-factor));
    --font-size-xl: calc(2.5rem * var(--font-scale-factor));
    --font-size-2xl: calc(3rem * var(--font-scale-factor));
    --font-size-3xl: calc(3.5rem * var(--font-scale-factor));

    /* Adjust spacing for larger text */
    --spacing-1: calc(0.5rem * var(--spacing-scale-factor));
    --spacing-2: calc(1rem * var(--spacing-scale-factor));
    --spacing-3: calc(1.5rem * var(--spacing-scale-factor));
    --spacing-4: calc(2rem * var(--spacing-scale-factor));
    --spacing-5: calc(2.5rem * var(--spacing-scale-factor));
    --spacing-6: calc(3rem * var(--spacing-scale-factor));
    --spacing-8: calc(4rem * var(--spacing-scale-factor));
    --spacing-10: calc(5rem * var(--spacing-scale-factor));
    --spacing-12: calc(6rem * var(--spacing-scale-factor));
    --spacing-16: calc(8rem * var(--spacing-scale-factor));
    --spacing-20: calc(10rem * var(--spacing-scale-factor));
}

/* Placeholder for OpenDyslexic font */
@font-face {
    font-family: "OpenDyslexic";
    src: local("OpenDyslexic"), url(../assets/fonts/OpenDyslexic-Regular.woff) format("woff");
    font-weight: normal;
    font-style: normal;
}

/* ============================================
       ANIMATIONS & KEYFRAMES
       ============================================ */
/* [Animation keyframes remain unchanged - the rest of the file continues as in the original] */
@keyframes clockwise {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes counterclockwise {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(-360deg);
    }
}

@keyframes pulse {
    0% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0.7;
    }
}

/* Game-like Animations */
@keyframes float {
    0%,
    100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-5px);
    }
}

@keyframes pulse-glow {
    0%,
    100% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(1.2);
    }
}

@keyframes success-pop {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
    }
}

@keyframes error-shake {
    0%,
    100% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-5px);
    }
    75% {
        transform: translateX(5px);
    }
}

@keyframes level-up {
    0% {
        transform: scale(1) rotate(0deg);
    }
    50% {
        transform: scale(1.2) rotate(180deg);
    }
    100% {
        transform: scale(1) rotate(360deg);
    }
}

/* Utility Classes for Game-like Effects */
.wildcat-float {
    animation: float 2s ease-in-out infinite;
}

.wildcat-pulse-glow {
    animation: pulse-glow 1.5s ease-in-out infinite;
}

.wildcat-success {
    animation: success-pop 0.5s var(--transition-easing-bounce);
}

.wildcat-error {
    animation: error-shake 0.5s var(--transition-easing-accelerate);
}

.wildcat-level-up {
    animation: level-up 1s var(--transition-easing-spring);
}

/* Accessibility Overrides */
body[data-reduce-motion="true"] {
    --transition-duration-fast: 0ms;
    --transition-duration-normal: 0ms;
    --transition-duration-slow: 0ms;
    --transition-duration-game: 0ms;
    --animation-duration-short: 0ms;
    --animation-duration-medium: 0ms;
    --animation-duration-long: 0ms;
}

body[data-reduce-sound="true"] {
    --sound-effect-volume: 0;
}

/* Sound Effect Classes */
.wildcat-sound-success {
    /* These would be implemented in JavaScript */
    --sound-effect-pitch: 1.2;
    --sound-effect-duration: 0.3s;
}

.wildcat-sound-error {
    --sound-effect-pitch: 0.8;
    --sound-effect-duration: 0.2s;
}

.wildcat-sound-level-up {
    --sound-effect-pitch: 1.5;
    --sound-effect-duration: 0.5s;
}

/* ============================================
       UTILITY CLASSES
       ============================================ */
.wildcat-panel {
    background-color: var(--panel-bg);
    border: var(--border-width-standard) solid var(--panel-border);
    border-radius: var(--radius-md);
    padding: var(--spacing-4);
    color: var(--panel-text);
    font-family: var(--font-family-active);
}

.wildcat-button {
    background-color: var(--button-default-bg);
    border: var(--border-width-standard) solid var(--button-default-border);
    border-radius: var(--radius-md);
    color: var(--button-default-text);
    font-family: var(--font-family-active);
    font-size: var(--font-size-large);
    padding: var(--spacing-2) var(--spacing-4);
    cursor: pointer;
    transition: transform var(--transition-standard);
    transform: var(--button-scale-default);
}

.wildcat-button:hover:not(:disabled) {
    transform: var(--button-scale-hover);
}

.wildcat-button:active:not(:disabled) {
    transform: var(--button-scale-active);
}

.wildcat-button.active,
.wildcat-button.selected {
    border-color: var(--button-selected-border);
    color: var(--button-selected-text);
}

.wildcat-button:disabled {
    border-color: var(--button-disabled-border);
    color: var(--button-disabled-text);
    cursor: not-allowed;
    opacity: 0.5;
    transform: var(--button-scale-default);
}

/* Contained version */
.wildcat-button.contained {
    background-color: var(--button-contained-default-bg);
    color: var(--button-contained-default-text);
    border-color: var(--button-contained-default-border);
}

.wildcat-button.contained.active,
.wildcat-button.contained.selected {
    background-color: var(--button-contained-selected-bg);
    color: var(--button-contained-selected-text);
    border-color: var(--button-contained-selected-border);
}

.wildcat-button.contained:disabled {
    background-color: var(--button-contained-disabled-bg);
    color: var(--button-contained-disabled-text);
    border-color: var(--button-contained-disabled-border);
}

/* Apply Border Thickness */
body[data-border-thickness="2"] {
    --border-width-standard: calc(0.125rem * var(--scale-factor));
    --border-width-thick: calc(0.25rem * var(--scale-factor));
    --border-width-extra: calc(0.375rem * var(--scale-factor));
}

body[data-border-thickness="4"] {
    --border-width-standard: calc(0.25rem * var(--scale-factor));
    --border-width-thick: calc(0.375rem * var(--scale-factor));
    --border-width-extra: calc(0.5rem * var(--scale-factor));
}

body[data-border-thickness="6"] {
    --border-width-standard: calc(0.375rem * var(--scale-factor));
    --border-width-thick: calc(0.5rem * var(--scale-factor));
    --border-width-extra: calc(0.75rem * var(--scale-factor));
}

body[data-border-thickness="8"] {
    --border-width-standard: calc(0.5rem * var(--scale-factor));
    --border-width-thick: calc(0.75rem * var(--scale-factor));
    --border-width-extra: calc(1rem * var(--scale-factor));
}